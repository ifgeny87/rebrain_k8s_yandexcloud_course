# Выполнение задания

От выполнения текущего задания зависит как будет осуществляться доступ к ВМ, а также выполнение последующих заданий.

## Сценарий

1. Создать и заполнить файл `private.auto.tfvars`
2. Выполнить единожды `terraform init` для инициализации terraform.
3. Выполнить `terraform apply -auto-approve` для создания кластера.
   Создание кластер может занять до 10 минут.
4. Если что-то поменялось и нужно удалить кластер со всеми настройками,
   выполнить `terraform destroy -force`.
5. Дальше нам нужны ВМ, на которых будет доступ по ssh. Для этого заходим в веб-консоль YC,
   заходим в кластер, дальше в "Управление узлами" и удаляем текущую группу узлов ВМ.
   *Чтобы не выполнять лишние действия, можно в конфиге `kubernetes.tf` закомментировать ресурс `yandex_kubernetes_node_group`,
   чтобы группа нод не создавалась автоматически при создании кластера.*
6. Создаем новую группу узлов по своему усмотрению. Рекомендуемые настройки:
   - Имя группы узлов: `test-group-auto`
   - Политика автомасштабирования. Для прохождения домашки требуется сделать автоматическое от 2х до 3х:
      * Кол-во узлов: автоматический, от 2 до 3
   - Расширение размера группы, макс: 3
   - Гарантированная доля vCPU: 5 (чем меньше, тем дешевле)
   - RAM: 2 Гб (чем меньше, тем дешевле)
   - Размер хранилища: 64 Гб (чем меньше, тем дешевле)
   - Сетевое расположение: ru-central1-b (такое же как у кластера в master.zonal)
   - Логин: <ваш логин>
   - SSH-ключ: <сюда вставить содержимое id-rsa.pub>
